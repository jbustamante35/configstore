#!/bin/sh
# Transfer files across servers
# Set $drc to giv for transferring from local filesystem to server
# Set $drc to rec for transferring from server to local filesystem
srv="$1"
drc="$2"

# Select server to transfer
case $srv in
    jdev)
        # JDev remote server
        ip=128.104.98.13
        port=22
        user=jbustamante
        ;;

    sub)
        # Spalding lab submit machine
        ip=128.104.98.118
        port=22
        user=jbustamante
        ;;

    jo)
        # Spalding lab office desktop
        ip=192.168.10.110
        port=133
        user=jbustamante
        ;;

    office)
        # Spalding lab office desktop
        ip=128.104.98.138
        port=133
        user=kinematics
        ;;

    winry)
        # Winry Rockbell (ASUS)
        ip=192.168.1.29
        port=3553
        user=jbustamante
        ;;

    kurisu)
        # Kurisu Makise (Dell)
        ip=192.168.1.23
        port=3355
        user=jbustamante
        ;;

    potato)
        # Potato (Chromebook)
        ip=192.168.1.13
        port=5335
        user=jbustamante
        ;;

    *)
        # Default to JDev
        ip=128.104.98.13
        port=22
        ;;
esac

# Determine direction to transfer
case $drc in
    giv)
    from="$3"
    to="$user@$ip:${4}"
    ;;

    rec)
    from="$user@$ip:${3}"
    to="$4"
    ;;

    *)
    # Default to giving file
    from="$3"
    to="$user@$ip:${4}"
    ;;
esac



# Run command
#echo "sudo scp -r -P $port $from $to"
#sudo scp -r -P $port $from $to
scp -r -P $port $from $to

